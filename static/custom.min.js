function initautocomplete(){var t=[{value:"utm_source",data:"utm_source"},{value:"utm_medium",data:"utm_medium"},{value:"utm_campaign",data:"utm_campaign"},{value:"utm_term",data:"utm_term"},{value:"utm_content",data:"utm_content"},{value:"tag",data:"tag"}];$().devbridgeAutocomplete&&$("[data-trigger=autofillparam]").devbridgeAutocomplete({lookup:t})}function getStates(t){$.ajax({type:"GET",url:$("[data-label=geo]").data("states")+"?country="+t.val()+"&output=true",success:function(e){var a='<option value="0">All States</option>';for(var n in e)a+='<option value="'+e[n].name.toLowerCase()+'">'+e[n].name+"</option>";t.parents(".col").parent(".row").find('select[name="state[]"]').html(a),$('[data-toggle="select"]').select2()}})}function validateForm(t){$(".form-group").removeClass("has-danger"),$(".form-control-feedback").remove();let e=0;return t.find("[data-required]").each(function(){let t=$(this).attr("type");if("email"==t){let t=/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;t.test($(this).val())||(e=1)}else""==$(this).val()&&(e=1);1==e&&($(this).parents(".form-group").addClass("has-danger"),$(this).after("<div class='form-control-feedback'>This field is required</div>"))}),1!=e}$(document).ready(function(){$(".sidebar-dropdown").on("shown.bs.collapse",function(){window.simpleBar.recalculate()});let t=location.pathname.substring(1);t&&($("#sidebar .sidebar-item").removeClass("active"),$('#sidebar .sidebar-link[href$="'+t+'"]').removeClass("collapsed"),$("#sidebar li ul").removeClass("show"),$('#sidebar .sidebar-link[href$="'+t+'"]').parents("li").addClass("active"),$('#sidebar .sidebar-link[href$="'+t+'"]').parents("li").find("ul").addClass("show"),$('.list-group-item[href$="'+t+'"], .nav-link[href$="'+t+'"]').addClass("active")),$("[data-toggle=addable]").each(function(){window["addable"+$(this).data("label")]=$(this).html()}),$("[data-trigger=addmore]").click(function(t){t.preventDefault(),$("#"+$(this).data("for")).append('<div class="row mt-2">'+window["addable"+$(this).data("for")]+'</div><p><a href="#" class="btn btn-danger btn-sm mt-1" data-trigger="deletemore">'+lang.del+"</a></p>"),$('[data-toggle="select"]').select2(),initautocomplete()}),$(document).on("click","[data-trigger=deletemore]",function(t){t.preventDefault();let e=$(this);return $(this).parent("p").prev(".row").slideUp("slow",function(){$(this).remove(),e.parent("p").remove()}),!1}),$("[data-trigger=darkmode]").click(function(t){t.preventDefault();const e=new Date;e.setTime(e.getTime()+2592e6);let a="expires="+e.toUTCString();document.cookie="darkmode=1;"+a+";path=/",$("body").addClass("dark"),$(this).addClass("d-none"),$("[data-trigger=lightmode]").removeClass("d-none")}),$("[data-trigger=lightmode]").click(function(t){t.preventDefault(),document.cookie="darkmode=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;",$("body").removeClass("dark"),$(this).addClass("d-none"),$("[data-trigger=darkmode]").removeClass("d-none")}),initautocomplete();let e=$('[data-toggle="select"]');e.length&&e.each(function(){$(this).select2()});let a=$('[data-toggle="tags"]');a.length&&a.each(function(){$(this).tagsinput({tagClass:"badge badge-primary"})});let n=$("[data-toggle=datetimepicker]");n.length&&n.each(function(){$(this).datepicker({autoPick:!0,format:"yyyy-mm-dd"})});let i=$("[data-toggle=datepicker]");i.length&&i.each(function(){$(this).datepicker({autoPick:!1,format:"yyyy-mm-dd"})}),$("[data-toggle=togglefield]").change(function(){let t=$(this),e=$(this).data("toggle-for");if(!e)return!1;e.split(",").forEach(function(e){1==t.is(":checked")?($("#"+e).parent(".form-group").removeClass("d-none"),$("#"+e).removeClass("d-none")):($("#"+e).parent(".form-group").addClass("d-none"),$("#"+e).addClass("d-none"))})}),$("input[data-binary=true]").each(function(){$(this).before('<input type="hidden" value="0" name="'+$(this).attr("name")+'">')}),$(document).on("change","[data-toggle=select]",function(){let t=$(this).data("trigger");void 0!==t&&window[t]($(this))}),$("[data-trigger=removeimage]").click(function(t){t.preventDefault(),$(this).parents("form").prepend("<input type='hidden' name='"+$(this).attr("id")+"' value='1'>"),$(this).text("Image will be removed upon submission")}),$(document).on("click","[data-trigger=modalopen]",function(t){t.preventDefault();let e=$(this).data("bs-target");$(e).find("a[data-trigger=confirm]").attr("href",$(this).attr("href"))}),$("[data-toggle=updateFormContent]").click(function(t){t.preventDefault();let e=$(this).data("bs-target"),a=$(this).data("content");for(input in $(e).find("form").attr("action",$(this).attr("href")),a)$(e).find("#"+input).val(a[input])}),$("[data-trigger=checkall]").on("click",function(){$(this).prop("checked")?$("[data-dynamic]").prop("checked",!0):$("[data-dynamic]").prop("checked",!1)}),$("[data-trigger=options] a[data-trigger=submitchecked]").click(function(t){t.preventDefault(),$("[data-trigger=options]").attr("action",$(this).attr("href"));let e=[];$("[data-dynamic]").each(function(){$(this).prop("checked")&&e.push($(this).val())}),$("input[name=selected]").val(JSON.stringify(e)),$("[data-trigger=options]").submit()}),$("[data-trigger=getchecked]").click(function(t){t.preventDefault();let e=[];$("[data-dynamic]").each(function(){$(this).prop("checked")&&e.push($(this).val())}),$($(this).data("for")).val(JSON.stringify(e))}),$(".copy").length>0&&(new ClipboardJS(".copy"),$(document).on("click",".copy",function(t){t.preventDefault();var e=$(this),a=$(this).text();e.data("lang")&&e.find("small").text(e.data("lang")),e.prev("small").addClass("float-away"),setTimeout(function(){$("small").removeClass("float-away")},400),setTimeout(function(){e.find("small").text(a)},2500)})),$("[data-trigger=dynamic-chart]").length>0&&$("[data-trigger=dynamic-chart]").each(function(){var t=$(this);$.get($(this).data("url"),function(e){let a=[],n=[],i=t.get(0).getContext("2d").createLinearGradient(0,0,0,225);for(var r in i.addColorStop(0,t.data("color-start")),i.addColorStop(1,t.data("color-stop")),e.data)a.push(r),n.push(e.data[r]);new Chart(t,{type:"line",data:{labels:a,datasets:[{label:e.label,fill:!0,backgroundColor:i,borderColor:t.data("color-start"),data:n}]},options:{maintainAspectRatio:!1,legend:{display:!1},tooltips:{intersect:!1},hover:{intersect:!0},plugins:{filler:{propagate:!1}},scales:{xAxes:[{reverse:!0,gridLines:{color:"rgba(0,0,0,0.0)"}}],yAxes:[{ticks:{stepSize:1e3},display:!0,borderDash:[3,3],gridLines:{color:"rgba(0,0,0,0.0)"}}]}}})}).fail(function(){$.notify({message:"Cannot retrieve charts. Server did not respond or an error ocurred."},{type:"danger",placement:{from:"bottom",align:"right"}})})}),$("[data-trigger=dynamic-map]").length>0&&$("[data-trigger=dynamic-map]").each(function(){var t=$(this);$.get($(this).data("url"),function(e){var a=new jsVectorMap({map:"world",selector:"#"+t.attr("id"),zoomButtons:!0,visualizeData:{scale:["#eeeeee",window.theme.danger],values:e.list},zoomOnScroll:!1,onRegionTooltipShow(t,a){t.text(t.text()+" ("+(void 0!==e.list[a]?e.list[a]:0)+" clicks)")}});for(const[t,a]of Object.entries(e.top))$("#top-countries").append('<li class="d-block mb-2 w-100 border-bottom pb-2 fw-bold">'+t+' <span class="badge bg-danger float-end">'+a+" clicks</span></li>");window.addEventListener("resize",()=>{a.updateSize()})}).fail(function(){$.notify({message:"Cannot retrieve maps. Server did not respond or an error ocurred."},{type:"danger",placement:{from:"bottom",align:"right"}})})}),$("[data-trigger=dynamic-pie]").length>0&&$("[data-trigger=dynamic-pie]").each(function(){var t=$(this);$.get($(this).data("url"),function(e){let a=[],n=[];for(var i in e)a.push(i),n.push(e[i]);new Chart(t,{type:"pie",data:{labels:a,datasets:[{data:n,backgroundColor:[window.theme.success,window.theme.warning],borderWidth:5}]},options:{responsive:!window.MSInputMethodContext,maintainAspectRatio:!1,legend:{display:!1},cutoutPercentage:75}})}).fail(function(){$.notify({message:"Cannot retrieve charts. Server did not respond or an error ocurred."},{type:"danger",placement:{from:"bottom",align:"right"}})})}),$("[data-trigger=preview]").click(function(t){t.preventDefault();let e=new FormData($(this).parents("form")[0]);$.ajax({type:"POST",url:$(this).data("url"),data:e,contentType:!1,processData:!1,beforeSend:function(){$("#return-ajax").html('<div class="preloader"><div class="spinner-border text-primary" role="status"><span class="sr-only">Loading...</span></div></div>')},complete:function(){$(".preloader").fadeOut("fast",function(){$(this).remove()})},success:function(t){$("#return-ajax").html(t)}})}),$("[data-trigger=color]").click(function(){let t=$(this).attr("href"),e=$("input[name=mode]");e.length>0&&e.val(t.replace("#",""))}),$("[data-trigger=generateqr]").submit(function(t){t.preventDefault();let e=new FormData($(this).parents("form")[0]);$.ajax({type:"POST",url:$(this).data("url"),data:e,contentType:!1,processData:!1,beforeSend:function(){$("#return-ajax").html('<div class="preloader"><div class="spinner-border text-primary" role="status"><span class="sr-only">Loading...</span></div></div>')},complete:function(){$(".preloader").fadeOut("fast",function(){$(this).remove()})},success:function(t){$("#return-ajax").html(t)}})}),$("[data-trigger=translate]").click(function(t){t.preventDefault();let e=$(this);if($("#code").val().length<1)return $.notify({message:"Cannot detect language code. Please enter an ISO 639-1 code in the code input."},{type:"danger",placement:{from:"bottom",align:"right"}});$.ajax({type:"POST",url:$(this).data("url"),data:"lang="+$("#code").val()+"&string="+$(this).data("string"),success:function(t){e.parent("div").find("textarea[data-new]").html(t)}})});var r=[].slice.call(document.querySelectorAll('[data-bs-toggle="tooltip"]'));r.map(function(t){return new bootstrap.Tooltip(t)}),$("[data-bs-toggle=collapse]").click(function(){let t=$(this).data("bs-parent");$(t).find(".collapse.show").collapse("hide"),$(this).parents(".btn-group").find(".active").removeClass("active"),$(this).parents(".list-group").find(".active").removeClass("active"),$(this).parents(".nav-pills").find(".active").removeClass("active"),$(this).addClass("active")}),$("[data-trigger=toggleSM]").click(function(t){let e=$(this).data("value");"multiple"==e?($("input[name=custom]").parents(".form-group").parent("div").hide(),$('button[data-bs-target="#metatags"]').hide(),$("#metatags").removeClass("show"),$('button[data-bs-target="#geo"]').hide(),$("#geo").removeClass("show"),$('button[data-bs-target="#device"]').hide(),$("#device").removeClass("show"),$("input[name=multiple]").val("1"),$("#multiple").addClass("show")):($('button[data-bs-target="#metatags"]').show(),$('button[data-bs-target="#geo"]').show(),$('button[data-bs-target="#device"]').show(),$("input[name=custom]").parents(".form-group").parent("div").show(),$("input[name=multiple]").val("0"),$("#single").addClass("show"))}),$(".list-group-dynamic a").click(function(){$(".list-group-dynamic a").removeClass("active"),$(this).addClass("active"),$("input[name=type]").val($(this).attr("href").replace("#",""))}),$(document).on("click","[data-trigger=shortinfo]",function(t){t.preventDefault(),triggerShortModal($(this).data("shorturl"))}),$(document).on("click","[data-trigger=clearsearch]",function(t){t.preventDefault(),$("#return-ajax").slideUp("medium",function(){$(this).html(""),$("#search").find("input[type=text]").val(""),$("#link-holder").slideDown("medium"),$("#search button[type=submit]").removeClass("d-none"),$("#search button[type=button]").addClass("d-none")})}),$(document).on("click","[data-trigger=selectall]",function(t){t.preventDefault(),$(this).hasClass("fa-check-square")?($(this).removeClass("fa-check-square").addClass("fa-minus-square"),$("[data-dynamic]").prop("checked",!0)):($(this).addClass("fa-check-square").removeClass("fa-minus-square"),$("[data-dynamic]").prop("checked",!1))})}),window.redirect=function(t){window.location="?"+t.data("name")+"="+t.val()},window.paymentkeys=function(t){$(".toggles").addClass("d-none"),$("#"+t.val()+"holder").removeClass("d-none")};